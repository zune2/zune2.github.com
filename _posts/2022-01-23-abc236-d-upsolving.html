---
layout: post
title: abc236 D - Dance
tags: AtCoder 완전탐색
---

<div id="outline-container-org9c32050" class="outline-2">
<h2 id="org9c32050">D - Dance</h2>
</div>

<div id="outline-container-org692e9fe" class="outline-2">
<h2 id="org692e9fe">접근하기</h2>
<div class="outline-text-2" id="text-org692e9fe">
<pre class="example">
- N 범위가 작아서 완전탐색
- N*2 = 16이면 시간 초과 가능
- permutation을 변형

N = 라면 다음 모양이 나와야 함
0 1 2 3
0 2 1 3
0 3 1 2

에디토리얼 보고 이해함
</pre>
</div>
</div>

<div id="outline-container-org91ce99f" class="outline-2">
<h2 id="org91ce99f">코드</h2>
<div class="outline-text-2" id="text-org91ce99f">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #729fcf;">#include</span> <span style="color: #ad7fa8; font-style: italic;">&lt;bits/stdc++.h&gt;</span>
<span style="color: #729fcf; font-weight: bold;">using</span> <span style="color: #729fcf; font-weight: bold;">namespace</span> <span style="color: #8ae234;">std</span>;

<span style="color: #729fcf; font-weight: bold;">typedef</span> <span style="color: #8ae234; font-weight: bold;">long</span> <span style="color: #8ae234; font-weight: bold;">long</span> <span style="color: #8ae234; font-weight: bold;">ll</span>;

<span style="color: #8ae234; font-weight: bold;">int</span> <span style="color: #ff6347;">N</span>;
<span style="color: #8ae234; font-weight: bold;">ll</span> <span style="color: #ff6347;">a</span>[20][20];

<span style="color: #8ae234; font-weight: bold;">bool</span> <span style="color: #ff6347;">visited</span>[20];
<span style="color: #8ae234; font-weight: bold;">int</span> <span style="color: #ff6347;">ans</span> = 0;
<span style="color: #8ae234; font-weight: bold;">vector</span> &lt;<span style="color: #8ae234; font-weight: bold;">pair</span>&lt;<span style="color: #8ae234; font-weight: bold;">int</span>, <span style="color: #8ae234; font-weight: bold;">int</span>&gt;&gt; <span style="color: #ff6347;">vec</span>;

<span style="color: #8ae234; font-weight: bold;">void</span> <span style="color: #edd400; font-weight: bold;">bt</span>(<span style="color: #8ae234; font-weight: bold;">int</span> <span style="color: #ff6347;">idx</span>)
{
    <span style="color: #729fcf; font-weight: bold;">if</span> ((<span style="color: #8ae234; font-weight: bold;">int</span>)vec.size() == N) {
        <span style="color: #8ae234; font-weight: bold;">int</span> <span style="color: #ff6347;">ret</span> = 0;
        <span style="color: #729fcf; font-weight: bold;">for</span>(<span style="color: #729fcf; font-weight: bold;">auto</span>&amp;<span style="color: #ff6347;">o</span> : vec) {
            ret = ret ^ a[o.first][o.second];
        }

        ans = max(ans, ret);
        <span style="color: #729fcf; font-weight: bold;">return</span>; 
    }

    <span style="color: #8ae234; font-weight: bold;">int</span> <span style="color: #ff6347;">l</span>;
    <span style="color: #729fcf; font-weight: bold;">for</span>(<span style="color: #8ae234; font-weight: bold;">int</span> <span style="color: #ff6347;">i</span>=0;i&lt;N*2;i++) {
        <span style="color: #729fcf; font-weight: bold;">if</span> (visited[i] == 0) {
            l = i;
            <span style="color: #729fcf; font-weight: bold;">break</span>;
        }
    }

    visited[l] = 1;
    <span style="color: #729fcf; font-weight: bold;">for</span>(<span style="color: #8ae234; font-weight: bold;">int</span> <span style="color: #ff6347;">i</span>=0;i&lt;N*2;i++) {
        <span style="color: #729fcf; font-weight: bold;">if</span>(visited[i] == 0) {
            visited[i] = 1;
            vec.push_back({l, i});
            bt(idx +1);
            visited[i] = 0;
            vec.pop_back();
        }
    }
    visited[l] = 0;
}

<span style="color: #8ae234; font-weight: bold;">int</span> <span style="color: #edd400; font-weight: bold;">main</span>(<span style="color: #8ae234; font-weight: bold;">int</span> <span style="color: #ff6347;">argc</span>, <span style="color: #8ae234; font-weight: bold;">char</span>* <span style="color: #ff6347;">argv</span>[])
{
    scanf(<span style="color: #ad7fa8; font-style: italic;">"%d"</span>, &amp;N);
    <span style="color: #729fcf; font-weight: bold;">for</span>(<span style="color: #8ae234; font-weight: bold;">int</span> <span style="color: #ff6347;">i</span>=0;i&lt;(2*N-1);i++) {
        <span style="color: #729fcf; font-weight: bold;">for</span>(<span style="color: #8ae234; font-weight: bold;">int</span> <span style="color: #ff6347;">j</span>=i+1;j&lt;(2*N);j++) {
            scanf(<span style="color: #ad7fa8; font-style: italic;">"%lld"</span>, &amp;a[i][j]);
        }
    }

    bt(0);
    printf(<span style="color: #ad7fa8; font-style: italic;">"%d\n"</span>, ans);
    <span style="color: #729fcf; font-weight: bold;">return</span> 0;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d5f8c1" class="outline-2">
<h2 id="org1d5f8c1">문제 링크</h2>
<div class="outline-text-2" id="text-org1d5f8c1">
<ul class="org-ul">
<li><a href="https://atcoder.jp/contests/abc236/tasks/abc236_d">https://atcoder.jp/contests/abc236/tasks/abc236_d</a></li>
</ul>
</div>
</div>

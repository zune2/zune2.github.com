---
title: org-babel로 script 구동하기
tags: org-mode
toc: true
toc_sticky: true
---

<div id="outline-container-orgcffab30" class="outline-2">
<h2 id="orgcffab30">환경설정</h2>
<div class="outline-text-2" id="text-orgcffab30">
<ul class="org-ul">
<li>C-c C-c 누르면 됨</li>
</ul>
</div>
<div id="outline-container-orgedf5519" class="outline-3">
<h3 id="orgedf5519">C, python, shell을 활성화</h3>
<div class="outline-text-3" id="text-orgedf5519">
<ul class="org-ul">
<li>.emacs에 다음을 넣어준다.</li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(org-babel-do-load-languages
 'org-babel-load-languages
 '((emacs-lisp . t)
   (C . t)
   (python . t)
   (shell . t)
   ))
</pre>
</div>
</div>
</div>

<div id="outline-container-org11537f6" class="outline-3">
<h3 id="org11537f6">yes/no 질문없이 code블록 실행하기</h3>
<div class="outline-text-3" id="text-org11537f6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #729fcf; font-weight: bold;">defun</span> <span style="color: #edd400; font-weight: bold;">my-org-confirm-babel-evaluate</span> (lang body)
  (not (string= lang <span style="color: #ad7fa8; font-style: italic;">"ditaa"</span>))
  (not (string= lang <span style="color: #ad7fa8; font-style: italic;">"C"</span>))
  (not (string= lang <span style="color: #ad7fa8; font-style: italic;">"python"</span>))
  (not (string= lang <span style="color: #ad7fa8; font-style: italic;">"shell"</span>))
)  <span style="color: #888a85;">;</span><span style="color: #888a85;">don't ask for ditaa</span>
(<span style="color: #729fcf; font-weight: bold;">setq</span> org-confirm-babel-evaluate #'my-org-confirm-babel-evaluate)
</pre>
</div>
<ul class="org-ul">
<li><a href="https://orgmode.org/manual/Code-Evaluation-Security.html">Code Evaluation Security</a></li>
<li>shell은 그래도 yes/no prompt가 뜬다.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org76f86d8" class="outline-2">
<h2 id="org76f86d8">python - hello world 출력</h2>
<div class="outline-text-2" id="text-org76f86d8">
<p>
코드
</p>
<pre class="example">
#+BEGIN_SRC python :results output :exports both
print("Hello")
#+END_SRC

#+RESULTS:
: Hello
</pre>

<p>
소스 export
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #729fcf; font-weight: bold;">print</span>(<span style="color: #ad7fa8; font-style: italic;">"Hello"</span>)
</pre>
</div>

<p>
결과
</p>
<pre class="example">
Hello

</pre>
</div>
</div>

<div id="outline-container-org8d95a7a" class="outline-2">
<h2 id="org8d95a7a">bash - hello world 출력</h2>
<div class="outline-text-2" id="text-org8d95a7a">
<pre class="example">
#+begin_src shell :results output :exports both
  echo "Hello World"
#+end_src

#+RESULTS:
: Hello World
</pre>


<div class="org-src-container">
<pre class="src src-shell"><span style="color: #729fcf;">echo</span> <span style="color: #ad7fa8; font-style: italic;">"Hello World"</span>
</pre>
</div>

<pre class="example">
Hello World

</pre>
</div>
</div>

<div id="outline-container-orgf1620ce" class="outline-2">
<h2 id="orgf1620ce">dot graph 만들기</h2>
<div class="outline-text-2" id="text-orgf1620ce">
<ul class="org-ul">
<li>파일 위치를 저장하고, export하는 config 작성 필요</li>
</ul>

<div class="figure">
<p><img src="test.png" alt="test.png" />
</p>
</div>
</div>
</div>


<div id="outline-container-org3a3bfcb" class="outline-2">
<h2 id="org3a3bfcb">참고자료</h2>
<div class="outline-text-2" id="text-org3a3bfcb">
<ul class="org-ul">
<li><a href="https://orgmode.org/worg/org-contrib/babel/">Babel: Active Code in Org Mode</a></li>
</ul>
</div>
</div>
